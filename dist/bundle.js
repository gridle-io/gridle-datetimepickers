!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("angular"),require("moment"),require("lodash")):"function"==typeof define&&define.amd?define(["exports","angular","moment","lodash"],o):o(t.pickers={},t.angular,t.moment,t.lodash)}(this,function(t,o,n,e){"use strict";function i(t,i,a,l){let p={max:null,min:null,strict:!0,validate:!0};t.years=[];let r=l.$setDirty;function u(){l.$setTouched()}function m(){return p.max&&n(p.max).isValid()&&n(p.max,"Y-MM-DD",p.strict).isValid()?e.isString(p.max)?n(p.max,"Y-MM-DD",!0):n(p.max):n().endOf("y").add(200,"y")}function s(){return p.min&&n(p.min).isValid()&&n(p.min,"Y-MM-DD",p.strict).isValid()?e.isString(p.min)?n(p.min,"Y-MM-DD",!0):n(p.min):n().startOf("y").subtract(200,"y")}l.$setDirty=o.noop,function t(n){let e=(n=o.element(n)).children();for(let o=0;o<e.length;o++)t(e[o]);n.on("focus",u)}(i),o.extend(l.$validators,{invalidDate:function(t,o){if(!p.validate||!t&&!o.year&&!o.month&&!o.day)return!0;let e=n(t||o.year+"-"+o.month+"-"+o.day,"Y-MM-DD",p.strict);return e.isValid()&&e.isSameOrAfter(s())&&e.isSameOrBefore(m())},required:function(t,o){return!a.required||!!(t||o.year||o.month||o.day)}}),l.$formatters.push(t=>{if(t){let o=n(t,"Y-MM-DD");return{day:o.format("DD"),month:o.format("MM"),year:o.year()}}return{day:"",month:"",year:null}}),l.$parsers.push(t=>!p.validate||t.year&&t.month&&t.day?t.year+"-"+t.month+"-"+t.day:null),l.$render=(()=>{l.$viewValue&&(t.day=l.$viewValue.day,t.month=l.$viewValue.month,t.year=l.$viewValue.year)}),t.$watch("day + month + year",()=>{l.$setViewValue({day:t.day,month:t.month,year:t.year}),l.$setDirty=r}),t.$watch("config",()=>{p=Object.assign(p,t.config),function(){let o,n;o=s().year(),n=m().year(),t.years.splice(0);for(let e=o;e<=n;e++)t.years.push(e)}()})}o=o&&o.hasOwnProperty("default")?o.default:o,n=n&&n.hasOwnProperty("default")?n.default:n;var a=o.module("gridle.datepicker",[]).directive("datepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?datepickerConfig"},template:'\n\t\t<div class="datepicker-select" layout="row" layout-align="start center">\n\t\t\t<select class="form-control month" name="month" ng-model="month">\n\t\t\t\t<option disabled="" label="Month" value="">Month</option>\n\t\t\t\t<option value="01">January</option>\n\t\t\t\t<option value="02">February</option>\n\t\t\t\t<option value="03">March</option>\n\t\t\t\t<option value="04">April</option>\n\t\t\t\t<option value="05">May</option>\n\t\t\t\t<option value="06">June</option>\n\t\t\t\t<option value="07">July</option>\n\t\t\t\t<option value="08">August</option>\n\t\t\t\t<option value="09">September</option>\n\t\t\t\t<option value="10">October</option>\n\t\t\t\t<option value="11">November</option>\n\t\t\t\t<option value="12">December</option>\n\t\t\t</select>\n\t\t\t<select class="form-control day" name="day" ng-model="day">\n\t\t\t\t<option disabled="" label="Day" value="">Day</option>\n\t\t\t\t<option value="01">01</option>\n\t\t\t\t<option value="02">02</option>\n\t\t\t\t<option value="03">03</option>\n\t\t\t\t<option value="04">04</option>\n\t\t\t\t<option value="05">05</option>\n\t\t\t\t<option value="06">06</option>\n\t\t\t\t<option value="07">07</option>\n\t\t\t\t<option value="08">08</option>\n\t\t\t\t<option value="09">09</option>\n\t\t\t\t<option value="10">10</option>\n\t\t\t\t<option value="11">11</option>\n\t\t\t\t<option value="12">12</option>\n\t\t\t\t<option value="13">13</option>\n\t\t\t\t<option value="14">14</option>\n\t\t\t\t<option value="15">15</option>\n\t\t\t\t<option value="16">16</option>\n\t\t\t\t<option value="17">17</option>\n\t\t\t\t<option value="18">18</option>\n\t\t\t\t<option value="19">19</option>\n\t\t\t\t<option value="20">20</option>\n\t\t\t\t<option value="21">21</option>\n\t\t\t\t<option value="22">22</option>\n\t\t\t\t<option value="23">23</option>\n\t\t\t\t<option value="24">24</option>\n\t\t\t\t<option value="25">25</option>\n\t\t\t\t<option value="26">26</option>\n\t\t\t\t<option value="27">27</option>\n\t\t\t\t<option value="28">28</option>\n\t\t\t\t<option value="29">29</option>\n\t\t\t\t<option value="30">30</option>\n\t\t\t\t<option value="31">31</option>\n\t\t\t</select>\n\t\t\t<select class="form-control year" ng-options="year as year for year in years" name="year" ng-model="year">\n\t\t\t\t<option disabled="" label="Year" value="">Year</option>\n\t\t\t</select>\n\t\t</div>',link:i}}).name;function l(t,e,i,a){let l={strict:!0,validate:!0};t.meridian="AM";let p=a.$setDirty;function r(){a.$setTouched()}a.$setDirty=o.noop,function t(n){let e=(n=o.element(n)).children();for(let o=0;o<e.length;o++)t(e[o]);n.on("focus",r)}(e),o.extend(a.$validators,{required:function(t,o){return!i.required||!!t}}),a.$formatters.push(t=>{if(!t)return{hour:"",minute:"",meridian:"AM"};let o=n(t,"HH:mm:00",l.strict);return{hour:o.format("hh"),minute:o.format("mm"),meridian:o.format("A")}}),a.$parsers.push(t=>{if(l.validate&&(!t.hour||!t.minute))return null;let o=t.hour,e=t.minute,i=t.meridian;return n(o+":"+e+" "+i,"hh:mm A",l.strict).format("HH:mm:00")}),a.$render=(()=>{a.$viewValue&&(t.hour=a.$viewValue.hour,t.minute=a.$viewValue.minute,t.meridian=a.$viewValue.meridian)}),t.$watch("hour + minute + meridian",function(){a.$setViewValue({hour:t.hour,minute:t.minute,meridian:t.meridian}),a.$setDirty=p}),t.$watch("config",()=>{l=Object.assign(l,t.config)})}var p=o.module("gridle.timepicker",[]).directive("timepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?timepickerConfig"},template:'\n\t\t<div class="timepicker-select" layout="row" layout-align="start center">\n\t\t<select class="form-control day" name="HH" ng-model="hour">\n\t\t\t<option selected="" disabled="" label="HH" value="">HH</option>\n\t\t\t<option value="01">01</option>\n\t\t\t<option value="02">02</option>\n\t\t\t<option value="03">03</option>\n\t\t\t<option value="04">04</option>\n\t\t\t<option value="05">05</option>\n\t\t\t<option value="06">06</option>\n\t\t\t<option value="07">07</option>\n\t\t\t<option value="08">08</option>\n\t\t\t<option value="09">09</option>\n\t\t\t<option value="10">10</option>\n\t\t\t<option value="11">11</option>\n\t\t\t<option value="12">12</option>\n\t\t</select>\n\n\t\t<select class="form-control day" name="MM" ng-model="minute">\n\t\t\t<option selected="" disabled="" label="MM" value="">MM</option>\n\t\t\t\t<option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option>\n\t\t\t</select>\n\n\t\t\t<select class="form-control day" name="meridian" ng-model="meridian">\n\t\t\t\t<option selected="" label="AM" value="AM">AM</option>\n\t\t\t\t<option value="PM">PM</option>\n\t\t\t</select>\n\t</div>\n\t\t',link:l}}).name;function r(t,i,a,l){const p="Y-MM-DD HH:mm:ss";let r={isUtc:!1,max:null,min:null,strict:!0};t.datepickerConfig={strict:!0,validate:!1},t.timepickerConfig={validate:!1},t.date=null,t.time=null;let u=l.$setDirty;function m(){l.$setTouched()}function s(t=null){return(t=null===t?n():e.isString(t)?n(t,p,!0):n(t)).utc()}function c(t=null){let o=[];return o=null===t?[]:e.isString(t)?[t,p,r.strict]:[t],n.utc(...o).local()}l.$setDirty=o.noop,function t(n){let e=(n=o.element(n)).children();for(let o=0;o<e.length;o++)t(e[o]);n.on("focus",m)}(i),o.extend(l.$validators,{required:function(t,o){return!a.required||!!(t||o.date||o.time)},inValidDateTime:function(t,o){if(!t&&!o.date&&!o.time)return!0;let i=t||o.date+" "+o.time;return(i=r.isUtc?s(i):n(i,p,!0)).isValid()&&i.isSameOrAfter(r.min&&n(r.min).isValid()&&n(r.min,p,r.strict).isValid()?r.isUtc?s(r.min):e.isString(r.min)?n(r.min,p,!0):n(r.min):(r.isUtc?s():n()).startOf("y").subtract(200,"y"))&&i.isSameOrBefore(r.max&&n(r.max).isValid()&&n(r.max,p,r.strict).isValid()?r.isUtc?s(r.max):e.isString(r.max)?n(r.max,p,!0):n(r.max):(r.isUtc?s():n()).endOf("y").add(200,"y"))}}),l.$formatters.push(t=>{let o,e=null,i=null;return t&&(e=(o=r.isUtc?c(t):n(t,p,!0)).format("Y-MM-DD"),i=o.format("HH:mm:00")),{date:e,time:i}}),l.$render=(()=>{l.$viewValue&&(t.date=l.$viewValue.date,t.time=l.$viewValue.time)}),l.$parsers.push(t=>{if(!t.date||!t.time)return null;let o=t.date+" "+t.time;return(o=r.isUtc?s(o):n(o,p,!0)).format("Y-MM-DD HH:mm:00")}),t.$watch("date + time",()=>{l.$setViewValue({date:t.date,time:t.time}),l.$setDirty=u}),t.$watch("config",()=>{let o=null,e=null;(r=Object.assign(r,t.config)).max&&(o=r.isUtc?c(r.max).format("Y-MM-DD"):n(r.max)),r.min&&(e=r.isUtc?c(r.min).format("Y-MM-DD"):n(r.min)),t.datepickerConfig=Object.assign({},t.datepickerConfig,r,{min:e,max:o}),t.timepickerConfig=Object.assign({},t.timepickerConfig,r)}),r=Object.assign({},r,t.config)}let u=[a,p];var m=o.module("gridle.datetimepicker",u).directive("datetimepicker",function(){return{require:"ngModel",restrict:"AE",scope:{config:"<?datetimePickerConfig",ngModel:"="},template:'\n\t\t\t<div\n\t\t\t\tclass="date"\n\t\t\t\tdatepicker=""\n\t\t\t\tdatepicker-config="datepickerConfig"\n\t\t\t\tname="date"\n\t\t\t\tng-model="date">\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass="time"\n\t\t\t\ttimepicker=""\n\t\t\t\ttimepicker-config="timepickerConfig"\n\t\t\t\tname="time"\n\t\t\t\tng-model="time">\n\t\t\t</div>\n\t\t',link:r}}).name;t.datepicker=a,t.timepicker=p,t.datetimepicker=m});
//# sourceMappingURL=bundle.js.map
