!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("angular"),require("moment")):"function"==typeof define&&define.amd?define(["angular","moment"],o):t.datetimepicker=o(t.angular,t.moment)}(this,function(t,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e="object"==typeof n&&n&&n.Object===Object&&n,i="object"==typeof self&&self&&self.Object===Object&&self,a=(e||i||Function("return this")()).Symbol,l=Object.prototype,p=l.hasOwnProperty,r=l.toString,u=a?a.toStringTag:void 0;var c=function(t){var o=p.call(t,u),n=t[u];try{t[u]=void 0;var e=!0}catch(t){}var i=r.call(t);return e&&(o?t[u]=n:delete t[u]),i},m=Object.prototype.toString;var d=function(t){return m.call(t)},v="[object Null]",s="[object Undefined]",f=a?a.toStringTag:void 0;var y=function(t){return null==t?void 0===t?s:v:f&&f in Object(t)?c(t):d(t)},g=Array.isArray;var h=function(t){return null!=t&&"object"==typeof t},M="[object String]";var $=function(t){return"string"==typeof t||!g(t)&&h(t)&&y(t)==M};function b(n,e,i,a){let l={max:null,min:null,strict:!0,validate:!0};n.years=[];let p=a.$setDirty;function r(){a.$setTouched()}function u(){return l.max&&o(l.max).isValid()&&o(l.max,"Y-MM-DD",l.strict).isValid()?$(l.max)?o(l.max,"Y-MM-DD",!0):o(l.max):o().endOf("y").add(200,"y")}function c(){return l.min&&o(l.min).isValid()&&o(l.min,"Y-MM-DD",l.strict).isValid()?$(l.min)?o(l.min,"Y-MM-DD",!0):o(l.min):o().startOf("y").subtract(200,"y")}a.$setDirty=t.noop,function o(n){let e=(n=t.element(n)).children();for(let t=0;t<e.length;t++)o(e[t]);n.on("focus",r)}(e),t.extend(a.$validators,{invalidDate:function(t,n){if(!l.validate||!t&&!n.year&&!n.month&&!n.day)return!0;let e=o(t||n.year+"-"+n.month+"-"+n.day,"Y-MM-DD",l.strict);return e.isValid()&&e.isSameOrAfter(c())&&e.isSameOrBefore(u())},required:function(t,o){return!i.required||!!(t||o.year||o.month||o.day)}}),a.$formatters.push(t=>{if(t){let n=o(t,"Y-MM-DD");return{day:n.format("DD"),month:n.format("MM"),year:n.year()}}return{day:"",month:"",year:null}}),a.$parsers.push(t=>!l.validate||t.year&&t.month&&t.day?t.year+"-"+t.month+"-"+t.day:null),a.$render=(()=>{a.$viewValue&&(n.day=a.$viewValue.day,n.month=a.$viewValue.month,n.year=a.$viewValue.year)}),n.$watch("day + month + year",()=>{a.$setViewValue({day:n.day,month:n.month,year:n.year}),a.$setDirty=p}),n.$watch("config",()=>{l=Object.assign(l,n.config),function(){let t,o;t=c().year(),o=u().year(),n.years.splice(0);for(let e=t;e<=o;e++)n.years.push(e)}()})}function D(n,e,i,a){let l={strict:!0,validate:!0};n.meridian="AM";let p=a.$setDirty;function r(){a.$setTouched()}a.$setDirty=t.noop,function o(n){let e=(n=t.element(n)).children();for(let t=0;t<e.length;t++)o(e[t]);n.on("focus",r)}(e),t.extend(a.$validators,{required:function(t,o){return!i.required||!!t}}),a.$formatters.push(t=>{if(!t)return{hour:"",minute:"",meridian:"AM"};let n=o(t,"HH:mm:00",l.strict);return{hour:n.format("hh"),minute:n.format("mm"),meridian:n.format("A")}}),a.$parsers.push(t=>{if(l.validate&&(!t.hour||!t.minute))return null;let n=t.hour,e=t.minute,i=t.meridian;return o(n+":"+e+" "+i,"hh:mm A",l.strict).format("HH:mm:00")}),a.$render=(()=>{a.$viewValue&&(n.hour=a.$viewValue.hour,n.minute=a.$viewValue.minute,n.meridian=a.$viewValue.meridian)}),n.$watch("hour + minute + meridian",function(){a.$setViewValue({hour:n.hour,minute:n.minute,meridian:n.meridian}),a.$setDirty=p}),n.$watch("config",()=>{l=Object.assign(l,n.config)})}function w(n,e,i,a){const l="Y-MM-DD HH:mm:ss";let p={isUtc:!1,max:null,min:null,strict:!0};n.datepickerConfig={strict:!0,validate:!1},n.timepickerConfig={validate:!1},n.date=null,n.time=null;let r=a.$setDirty;function u(){a.$setTouched()}function c(t=null){return(t=null===t?o():$(t)?o(t,l,!0):o(t)).utc()}function m(t=null){let n=[];return n=null===t?[]:$(t)?[t,l,p.strict]:[t],o.utc(...n).local()}a.$setDirty=t.noop,function o(n){let e=(n=t.element(n)).children();for(let t=0;t<e.length;t++)o(e[t]);n.on("focus",u)}(e),t.extend(a.$validators,{required:function(t,o){return!i.required||!!(t||o.date||o.time)},inValidDateTime:function(t,n){if(!t&&!n.date&&!n.time)return!0;let e=t||n.date+" "+n.time;return(e=p.isUtc?c(e):o(e,l,!0)).isValid()&&e.isSameOrAfter(p.min&&o(p.min).isValid()&&o(p.min,l,p.strict).isValid()?p.isUtc?c(p.min):$(p.min)?o(p.min,l,!0):o(p.min):(p.isUtc?c():o()).startOf("y").subtract(200,"y"))&&e.isSameOrBefore(p.max&&o(p.max).isValid()&&o(p.max,l,p.strict).isValid()?p.isUtc?c(p.max):$(p.max)?o(p.max,l,!0):o(p.max):(p.isUtc?c():o()).endOf("y").add(200,"y"))}}),a.$formatters.push(t=>{let n,e=null,i=null;return t&&(e=(n=p.isUtc?m(t):o(t,l,!0)).format("Y-MM-DD"),i=n.format("HH:mm:00")),{date:e,time:i}}),a.$render=(()=>{a.$viewValue&&(n.date=a.$viewValue.date,n.time=a.$viewValue.time)}),a.$parsers.push(t=>{if(!t.date||!t.time)return null;let n=t.date+" "+t.time;return(n=p.isUtc?c(n):o(n,l,!0)).format("Y-MM-DD HH:mm:00")}),n.$watch("date + time",()=>{a.$setViewValue({date:n.date,time:n.time}),a.$setDirty=r}),n.$watch("config",()=>{let t=null,e=null;(p=Object.assign(p,n.config)).max&&(t=p.isUtc?m(p.max).format("Y-MM-DD"):o(p.max)),p.min&&(e=p.isUtc?m(p.min).format("Y-MM-DD"):o(p.min)),n.datepickerConfig=Object.assign({},n.datepickerConfig,p,{min:e,max:t}),n.timepickerConfig=Object.assign({},n.timepickerConfig,p)}),p=Object.assign({},p,n.config)}let V=[t.module("gridle.datepicker",[]).directive("datepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?datepickerConfig"},template:'\n\t\t<div class="datepicker-select" layout="row" layout-align="start center">\n\t\t\t<select class="form-control month" name="month" ng-model="month">\n\t\t\t\t<option disabled="" label="Month" value="">Month</option>\n\t\t\t\t<option value="01">January</option>\n\t\t\t\t<option value="02">February</option>\n\t\t\t\t<option value="03">March</option>\n\t\t\t\t<option value="04">April</option>\n\t\t\t\t<option value="05">May</option>\n\t\t\t\t<option value="06">June</option>\n\t\t\t\t<option value="07">July</option>\n\t\t\t\t<option value="08">August</option>\n\t\t\t\t<option value="09">September</option>\n\t\t\t\t<option value="10">October</option>\n\t\t\t\t<option value="11">November</option>\n\t\t\t\t<option value="12">December</option>\n\t\t\t</select>\n\t\t\t<select class="form-control day" name="day" ng-model="day">\n\t\t\t\t<option disabled="" label="Day" value="">Day</option>\n\t\t\t\t<option value="01">01</option>\n\t\t\t\t<option value="02">02</option>\n\t\t\t\t<option value="03">03</option>\n\t\t\t\t<option value="04">04</option>\n\t\t\t\t<option value="05">05</option>\n\t\t\t\t<option value="06">06</option>\n\t\t\t\t<option value="07">07</option>\n\t\t\t\t<option value="08">08</option>\n\t\t\t\t<option value="09">09</option>\n\t\t\t\t<option value="10">10</option>\n\t\t\t\t<option value="11">11</option>\n\t\t\t\t<option value="12">12</option>\n\t\t\t\t<option value="13">13</option>\n\t\t\t\t<option value="14">14</option>\n\t\t\t\t<option value="15">15</option>\n\t\t\t\t<option value="16">16</option>\n\t\t\t\t<option value="17">17</option>\n\t\t\t\t<option value="18">18</option>\n\t\t\t\t<option value="19">19</option>\n\t\t\t\t<option value="20">20</option>\n\t\t\t\t<option value="21">21</option>\n\t\t\t\t<option value="22">22</option>\n\t\t\t\t<option value="23">23</option>\n\t\t\t\t<option value="24">24</option>\n\t\t\t\t<option value="25">25</option>\n\t\t\t\t<option value="26">26</option>\n\t\t\t\t<option value="27">27</option>\n\t\t\t\t<option value="28">28</option>\n\t\t\t\t<option value="29">29</option>\n\t\t\t\t<option value="30">30</option>\n\t\t\t\t<option value="31">31</option>\n\t\t\t</select>\n\t\t\t<select class="form-control year" ng-options="year as year for year in years" name="year" ng-model="year">\n\t\t\t\t<option disabled="" label="Year" value="">Year</option>\n\t\t\t</select>\n\t\t</div>',link:b}}).name,t.module("gridle.timepicker",[]).directive("timepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?timepickerConfig"},template:'\n\t\t<div class="timepicker-select" layout="row" layout-align="start center">\n\t\t<select class="form-control day" name="HH" ng-model="hour">\n\t\t\t<option selected="" disabled="" label="HH" value="">HH</option>\n\t\t\t<option value="01">01</option>\n\t\t\t<option value="02">02</option>\n\t\t\t<option value="03">03</option>\n\t\t\t<option value="04">04</option>\n\t\t\t<option value="05">05</option>\n\t\t\t<option value="06">06</option>\n\t\t\t<option value="07">07</option>\n\t\t\t<option value="08">08</option>\n\t\t\t<option value="09">09</option>\n\t\t\t<option value="10">10</option>\n\t\t\t<option value="11">11</option>\n\t\t\t<option value="12">12</option>\n\t\t</select>\n\n\t\t<select class="form-control day" name="MM" ng-model="minute">\n\t\t\t<option selected="" disabled="" label="MM" value="">MM</option>\n\t\t\t\t<option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option>\n\t\t\t</select>\n\n\t\t\t<select class="form-control day" name="meridian" ng-model="meridian">\n\t\t\t\t<option selected="" label="AM" value="AM">AM</option>\n\t\t\t\t<option value="PM">PM</option>\n\t\t\t</select>\n\t</div>\n\t\t',link:D}}).name];return t.module("gridle.datetimepicker",V).directive("datetimepicker",function(){return{require:"ngModel",restrict:"AE",scope:{config:"<?datetimePickerConfig",ngModel:"="},template:'\n\t\t\t<div\n\t\t\t\tclass="date"\n\t\t\t\tdatepicker=""\n\t\t\t\tdatepicker-config="datepickerConfig"\n\t\t\t\tname="date"\n\t\t\t\tng-model="date">\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass="time"\n\t\t\t\ttimepicker=""\n\t\t\t\ttimepicker-config="timepickerConfig"\n\t\t\t\tname="time"\n\t\t\t\tng-model="time">\n\t\t\t</div>\n\t\t',link:w}}).name});
//# sourceMappingURL=datetimepicker.bundle.js.map
