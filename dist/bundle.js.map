{"version":3,"file":"bundle.js","sources":["../src/datepicker/datepicker.js","../src/datepicker/index.js","../src/timepicker/timepicker.js","../src/timepicker/index.js","../src/datetimepicker/datetimepicker.js","../src/datetimepicker/index.js"],"sourcesContent":["'use strict';\n\nimport angular from 'angular';\nimport moment from 'moment';\nimport { isString } from 'lodash';\n\n/**\n * @kind function\n * @name datepicker\n *\n * @description\n * The datepicker component renders a custom datepicker. The datepicker provides\n * 3 dropdowns, one for Year, Month and Date. The datepicker also uses the NgModelController,\n * to use the parent ng-model variable and to enable form validations if used within a form.\n *\n * @param {Object} ngModel The ng-model value attached to the element.\n * @param {Object} datepickerConfig The datepicker configuration\n * @param {Date|string|moment} [datepickerConfig.max=null] The maximum date the datepicker should allow\n * @param {Date|string|moment} [datepickerConfig.max=null] The minimum date the datepicker should allow\n * @param {boolean} [datepickerConfig.max=true] Whether a strict parsing should be done or not\n * @param {boolean} [datepickerConfig.validate=false] Whether to perform validation on the value or not\n */\n\nfunction datepickerComponent() {\n\n\t/**\n\t * The directives definition\n\t */\n\treturn {\n\t\trequire: 'ngModel',\n\t\trestrict: 'AE',\n\t\tscope: {\n\t\t\tngModel: '=',\n\t\t\tconfig: '<?datepickerConfig'\n\t\t},\n\t\ttemplate: `\n\t\t<div class=\"datepicker-select\" layout=\"row\" layout-align=\"start center\">\n\t\t\t<select class=\"form-control month\" name=\"month\" ng-model=\"month\">\n\t\t\t\t<option disabled=\"\" label=\"Month\" value=\"\">Month</option>\n\t\t\t\t<option value=\"01\">January</option>\n\t\t\t\t<option value=\"02\">February</option>\n\t\t\t\t<option value=\"03\">March</option>\n\t\t\t\t<option value=\"04\">April</option>\n\t\t\t\t<option value=\"05\">May</option>\n\t\t\t\t<option value=\"06\">June</option>\n\t\t\t\t<option value=\"07\">July</option>\n\t\t\t\t<option value=\"08\">August</option>\n\t\t\t\t<option value=\"09\">September</option>\n\t\t\t\t<option value=\"10\">October</option>\n\t\t\t\t<option value=\"11\">November</option>\n\t\t\t\t<option value=\"12\">December</option>\n\t\t\t</select>\n\t\t\t<select class=\"form-control day\" name=\"day\" ng-model=\"day\">\n\t\t\t\t<option disabled=\"\" label=\"Day\" value=\"\">Day</option>\n\t\t\t\t<option value=\"01\">01</option>\n\t\t\t\t<option value=\"02\">02</option>\n\t\t\t\t<option value=\"03\">03</option>\n\t\t\t\t<option value=\"04\">04</option>\n\t\t\t\t<option value=\"05\">05</option>\n\t\t\t\t<option value=\"06\">06</option>\n\t\t\t\t<option value=\"07\">07</option>\n\t\t\t\t<option value=\"08\">08</option>\n\t\t\t\t<option value=\"09\">09</option>\n\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t<option value=\"11\">11</option>\n\t\t\t\t<option value=\"12\">12</option>\n\t\t\t\t<option value=\"13\">13</option>\n\t\t\t\t<option value=\"14\">14</option>\n\t\t\t\t<option value=\"15\">15</option>\n\t\t\t\t<option value=\"16\">16</option>\n\t\t\t\t<option value=\"17\">17</option>\n\t\t\t\t<option value=\"18\">18</option>\n\t\t\t\t<option value=\"19\">19</option>\n\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t<option value=\"21\">21</option>\n\t\t\t\t<option value=\"22\">22</option>\n\t\t\t\t<option value=\"23\">23</option>\n\t\t\t\t<option value=\"24\">24</option>\n\t\t\t\t<option value=\"25\">25</option>\n\t\t\t\t<option value=\"26\">26</option>\n\t\t\t\t<option value=\"27\">27</option>\n\t\t\t\t<option value=\"28\">28</option>\n\t\t\t\t<option value=\"29\">29</option>\n\t\t\t\t<option value=\"30\">30</option>\n\t\t\t\t<option value=\"31\">31</option>\n\t\t\t</select>\n\t\t\t<select class=\"form-control year\" ng-options=\"year as year for year in years\" name=\"year\" ng-model=\"year\">\n\t\t\t\t<option disabled=\"\" label=\"Year\" value=\"\">Year</option>\n\t\t\t</select>\n\t\t</div>`,\n\t\tlink: linkFn\n\t};\n}\n\n/**\n * The date-picker components link function\n * @function linkFn\n * @name datepickerComponent#link\n * @kind link\n */\nfunction linkFn($scope, element, attrs, NgModelController) {\n\n\t/**\n\t * The datepicker configuration object\n\t * @property {Date|string|moment} [max=null] The maximum date the datepicker should allow\n\t * @property {Date|string|moment} [min=null] The minimum date the datepicker should allow\n\t * @property {boolean} [strict=true] Whether a strict parsing should be done or not\n\t * @property {boolean} [validate=false] Whether to perform validation on the value or not\n\t * @type {Object}\n\t */\n\tlet config = {\n\t\tmax: null,\n\t\tmin: null,\n\t\tstrict: true,\n\t\tvalidate: true\n\t};\n\n\t/**\n\t * Stores a list of years\n\t * @type {number[]}\n\t */\n\t$scope.years = [];\n\n\t/**\n\t * Stores the reference to the $setDirty method of the NgModelController.\n\t * @type {NgModel.$setDirty}\n\t */\n\tlet tmp = NgModelController.$setDirty;\n\n\t// Temporarily set the $setDirty function to noop, to make sure form-validations work properly\n\tNgModelController.$setDirty = angular.noop;\n\n\t/**\n\t * To set $touched add a focus listener on the element and all its children\n\t * @function addFocus\n\t * @param {DOM} element\n\t */\n\tfunction addFocus(element) {\n\t\telement = angular.element(element);\n\t\tlet children = element.children();\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\taddFocus(children[i]);\n\t\t}\n\t\telement.on('focus', setTouched);\n\t}\n\n\taddFocus(element);\n\n\t/**\n\t * Set the ngModel $touched value\n\t * @function setTouched\n\t */\n\tfunction setTouched() {\n\t\tNgModelController.$setTouched();\n\t}\n\n\t/**\n\t * Returns the maximum date limit the datepicker can handle\n\t * @function getMaximumLimit\n\t * @returns {moment}\n\t */\n\tfunction getMaximumLimit() {\n\t\tif (!config.max || !moment(config.max).isValid() || !moment(config.max, 'Y-MM-DD', config.strict).isValid()) {\n\t\t\treturn moment().endOf('y').add(200, 'y');\n\t\t}\n\t\treturn isString(config.max) ? moment(config.max, 'Y-MM-DD', true) : moment(config.max);\n\t}\n\n\t/**\n\t * Returns the minimum date limit the datepicker can handle\n\t * @function getMinimumLimit\n\t * @returns {moment}\n\t */\n\tfunction getMinimumLimit() {\n\t\tif (!config.min || !moment(config.min).isValid() || !moment(config.min, 'Y-MM-DD', config.strict).isValid()) {\n\t\t\treturn moment().startOf('y').subtract(200, 'y');\n\t\t}\n\t\treturn isString(config.min) ? moment(config.min, 'Y-MM-DD', true) : moment(config.min);\n\t}\n\n\t/**\n\t * Populates a list of years, i.e. all the years from 100 years from now.\n\t * @function populateYearList\n\t * @name linkFn~populateYearList\n\t */\n\tfunction populateYearList() {\n\n\t\tlet minYear, maxYear;\n\t\tminYear = getMinimumLimit().year();\n\t\tmaxYear = getMaximumLimit().year();\n\t\t$scope.years.splice(0);\n\t\tfor (let i = minYear; i <= maxYear; i++) {\n\t\t\t$scope.years.push(i);\n\t\t}\n\t}\n\n\t/*\n\t * Add validators to the NgModelController\n\t */\n\tangular.extend(NgModelController.$validators, {\n\t\tinvalidDate: isValidatDate,\n\t\trequired: isDateProvided\n\t});\n\n\t/**\n\t * NgModelController validator to check if a valid date has been provided/entered\n\t * @param {string} modelValue\n\t * @param {object} viewValue\n\t * @returns {boolean}\n\t */\n\tfunction isValidatDate(modelValue, viewValue) {\n\t\tif (!config.validate || (!modelValue && !viewValue.year && !viewValue.month && !viewValue.day)) {\n\t\t\treturn true;\n\t\t}\n\t\tlet date = moment(modelValue || (viewValue.year + '-' + viewValue.month + '-' + viewValue.day), 'Y-MM-DD', config.strict);\n\t\treturn date.isValid()\n\t\t\t\t&& date.isSameOrAfter(getMinimumLimit())\n\t\t\t\t&& date.isSameOrBefore(getMaximumLimit());\n\n\t}\n\n\t/**\n\t * NgModelController validator to check if a date has been provided/entered\n\t * @param {string} modelValue\n\t * @param {Object} viewValue\n\t * @returns {boolean}\n\t */\n\tfunction isDateProvided(modelValue, viewValue) {\n\t\t// Check if required attrs is present\n\t\t// If the model value and view value both are empty, only then short-cicrcuit the validation\n\t\treturn attrs.required ? (!!modelValue || !!viewValue.year || !!viewValue.month || !!viewValue.day) : true;\n\t}\n\n\t// Format backend value to the values suitable for view\n\tNgModelController.$formatters.push((modelValue) => {\n\t\tif (modelValue) {\n\t\t\tlet passedDate = moment(modelValue, 'Y-MM-DD');\n\t\t\tlet day = passedDate.format('DD');\n\t\t\tlet month = passedDate.format('MM');\n\t\t\tlet year = passedDate.year();\n\t\t\treturn {day, month, year};\n\t\t} else {\n\t\t\treturn {day: '', month: '', year: null}; //year has data type: number\n\t\t}\n\t});\n\n\t// Format view value to the value suitable for backend\n\tNgModelController.$parsers.push((viewValue) => {\n\t\tif (config.validate && (!viewValue.year || !viewValue.month || !viewValue.day)) {\n\t\t\treturn null;\n\t\t}\n\t\treturn viewValue.year + '-' + viewValue.month + '-' + viewValue.day;\n\t});\n\n\t// Update $scope values from viewValues\n\tNgModelController.$render = () => {\n\t\tif (NgModelController.$viewValue) {\n\t\t\t$scope.day = NgModelController.$viewValue.day;\n\t\t\t$scope.month = NgModelController.$viewValue.month;\n\t\t\t$scope.year = NgModelController.$viewValue.year;\n\t\t}\n\t};\n\n\t// Run digest cycle when a view value changes\n\t$scope.$watch('day + month + year', () => {\n\t\tNgModelController.$setViewValue({\n\t\t\tday: $scope.day,\n\t\t\tmonth: $scope.month,\n\t\t\tyear: $scope.year\n\t\t});\n\t\tNgModelController.$setDirty = tmp;\n\t});\n\n\t// Watch for any configuration updates\n\t$scope.$watch('config', () => {\n\t\tconfig = Object.assign(config, $scope.config);\n\t\tpopulateYearList();\n\t});\n\n}\n\nexport default datepickerComponent;","'use strict';\n\nimport angular from 'angular';\nimport datepickerComponent from './datepicker';\n\nlet dependencies = [];\n\nexport default angular.module('gridle.datepicker', dependencies)\n\t\t.directive('datepicker', datepickerComponent)\n\t\t.name;","'use strict';\n\nimport angular from 'angular';\nimport moment from 'moment';\n\n/**\n * @memberOf module:\"gridle.timepicker\"\n * @kind function\n * @name timepicker\n *\n * @description\n * The timepicker component renders a custom timepicker. The timepicker provides\n * 3 dropdowns, one for Year, Month and Date. The timepicker also uses the NgModelController,\n * to use the parent ng-model variable and to enable form validations if used within a form.\n *\n * @param {Object} ngModel The ng-model value attached to the element.\n * @param {Object} datetimePickerConfig The datepicker configuration\n * @param {boolean} [datetimePickerConfig.isUtc=true] Whether the dateTime provided is in UTC or not\n * @param {Date|string|moment} [datetimePickerConfig.max=null] The maximum dateTime the datepicker should allow\n * @param {Date|string|moment} [datetimePickerConfig.min=null] The minimum dateTime the datepicker should allow\n * @param {boolean} [datetimePickerConfig.strict=true] Whether a strict parsing should be done or not\n */\n\nfunction timepickerComponent() {\n\n\t/**\n\t * The directives definition\n\t */\n\treturn {\n\t\trequire: 'ngModel',\n\t\trestrict: 'AE',\n\t\tscope: {\n\t\t\tngModel: '=',\n\t\t\tconfig: '<?timepickerConfig',\n\t\t},\n\t\ttemplate: `\n\t\t<div class=\"timepicker-select\" layout=\"row\" layout-align=\"start center\">\n\t\t<select class=\"form-control day\" name=\"HH\" ng-model=\"hour\">\n\t\t\t<option selected=\"\" disabled=\"\" label=\"HH\" value=\"\">HH</option>\n\t\t\t<option value=\"01\">01</option>\n\t\t\t<option value=\"02\">02</option>\n\t\t\t<option value=\"03\">03</option>\n\t\t\t<option value=\"04\">04</option>\n\t\t\t<option value=\"05\">05</option>\n\t\t\t<option value=\"06\">06</option>\n\t\t\t<option value=\"07\">07</option>\n\t\t\t<option value=\"08\">08</option>\n\t\t\t<option value=\"09\">09</option>\n\t\t\t<option value=\"10\">10</option>\n\t\t\t<option value=\"11\">11</option>\n\t\t\t<option value=\"12\">12</option>\n\t\t</select>\n\n\t\t<select class=\"form-control day\" name=\"MM\" ng-model=\"minute\">\n\t\t\t<option selected=\"\" disabled=\"\" label=\"MM\" value=\"\">MM</option>\n\t\t\t\t<option value=\"00\">00</option><option value=\"01\">01</option><option value=\"02\">02</option><option value=\"03\">03</option><option value=\"04\">04</option><option value=\"05\">05</option><option value=\"06\">06</option><option value=\"07\">07</option><option value=\"08\">08</option><option value=\"09\">09</option><option value=\"10\">10</option><option value=\"11\">11</option><option value=\"12\">12</option><option value=\"13\">13</option><option value=\"14\">14</option><option value=\"15\">15</option><option value=\"16\">16</option><option value=\"17\">17</option><option value=\"18\">18</option><option value=\"19\">19</option><option value=\"20\">20</option><option value=\"21\">21</option><option value=\"22\">22</option><option value=\"23\">23</option><option value=\"24\">24</option><option value=\"25\">25</option><option value=\"26\">26</option><option value=\"27\">27</option><option value=\"28\">28</option><option value=\"29\">29</option><option value=\"30\">30</option><option value=\"31\">31</option><option value=\"32\">32</option><option value=\"33\">33</option><option value=\"34\">34</option><option value=\"35\">35</option><option value=\"36\">36</option><option value=\"37\">37</option><option value=\"38\">38</option><option value=\"39\">39</option><option value=\"40\">40</option><option value=\"41\">41</option><option value=\"42\">42</option><option value=\"43\">43</option><option value=\"44\">44</option><option value=\"45\">45</option><option value=\"46\">46</option><option value=\"47\">47</option><option value=\"48\">48</option><option value=\"49\">49</option><option value=\"50\">50</option><option value=\"51\">51</option><option value=\"52\">52</option><option value=\"53\">53</option><option value=\"54\">54</option><option value=\"55\">55</option><option value=\"56\">56</option><option value=\"57\">57</option><option value=\"58\">58</option><option value=\"59\">59</option>\n\t\t\t</select>\n\n\t\t\t<select class=\"form-control day\" name=\"meridian\" ng-model=\"meridian\">\n\t\t\t\t<option selected=\"\" label=\"AM\" value=\"AM\">AM</option>\n\t\t\t\t<option value=\"PM\">PM</option>\n\t\t\t</select>\n\t</div>\n\t\t`,\n\t\tlink: linkFn\n\t};\n}\n\n/**\n * The date-picker components link function\n * @function linkFn\n * @name timepickerComponent#link\n * @kind link\n */\nfunction linkFn($scope, element, attrs, NgModelController) {\n\n\t/**\n\t * The datepicker configuration object\n\t * @property {Date|string|moment} [max=null] The maximum date the datepicker should allow\n\t * @property {Date|string|moment} [min=null] The minimum date the datepicker should allow\n\t * @property {boolean} [strict=true] Whether a strict parsing should be done or not\n\t * @property {boolean} [validate=false] Whether to perform validation on the value or not\n\t * @type {Object}\n\t */\n\tlet config = {\n\t\tstrict: true,\n\t\tvalidate: true\n\t};\n\n\t/**\n\t * The time meridian\n\t * @type {string}\n\t */\n\t$scope.meridian = 'AM';\n\n\t/**\n\t * Stores the reference to the $setDirty method of the NgModelController.\n\t * @type {NgModel.$setDirty}\n\t */\n\tlet tmp = NgModelController.$setDirty;\n\n\t// Temporarily set the $setDirty function to noop, to make sure form-validations work properly\n\tNgModelController.$setDirty = angular.noop;\n\n\t/**\n\t * To set $touched add a focus listener on the element and all its children\n\t * @function addFocus\n\t * @param {DOM} element\n\t */\n\tfunction addFocus(element) {\n\t\telement = angular.element(element);\n\t\tlet children = element.children();\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\taddFocus(children[i]);\n\t\t}\n\t\telement.on('focus', setTouched);\n\t}\n\n\taddFocus(element);\n\n\t/**\n\t * Set the ngModel $touched value\n\t * @function setTouched\n\t */\n\tfunction setTouched() {\n\t\tNgModelController.$setTouched();\n\t}\n\n\t/*\n\t * Add validators to the NgModelController\n\t */\n\tangular.extend(NgModelController.$validators, {\n\t\trequired: isTimeProvided\n\t});\n\n\t/**\n\t * NgModelController validator to check if a time has been provided/entered\n\t * @function isTimeProvided\n\t * @param {string} modelValue\n\t * @param {object} viewValue\n\t * @returns {boolean}\n\t */\n\tfunction isTimeProvided(modelValue, viewValue) {\n\t\t// Check if required attrs is present\n\t\t// If it is present, check the model value, else short-circuit and return true, to bypass the validation\n\t\treturn attrs.required ? !!modelValue : true;\n\t}\n\n\t// Format backend value to the values suitable for view\n\tNgModelController.$formatters.push((modelValue) => {\n\t\tif (!modelValue) {\n\t\t\treturn {hour: '', minute: '', meridian: 'AM'};\n\t\t}\n\t\tlet time = moment(modelValue, 'HH:mm:00', config.strict);\n\t\treturn {\n\t\t\thour: time.format('hh'),\n\t\t\tminute: time.format('mm'),\n\t\t\tmeridian: time.format('A')\n\t\t};\n\t});\n\n\t// Format view value to the value suitable for backend\n\tNgModelController.$parsers.push((viewValue) => {\n\t\tif (config.validate && (!viewValue.hour || !viewValue.minute)) {\n\t\t\treturn null;\n\t\t}\n\t\tlet hour = viewValue.hour;\n\t\tlet min = viewValue.minute;\n\t\tlet meridian = viewValue.meridian;\n\t\tlet value = hour + ':' + min + ' ' + meridian;\n\t\treturn moment(value, 'hh:mm A', config.strict).format('HH:mm:00');\n\t});\n\n\t// Update $scope values from viewValues\n\tNgModelController.$render = () => {\n\t\tif (NgModelController.$viewValue) {\n\t\t\t$scope.hour = NgModelController.$viewValue.hour;\n\t\t\t$scope.minute = NgModelController.$viewValue.minute;\n\t\t\t$scope.meridian = NgModelController.$viewValue.meridian;\n\t\t}\n\t};\n\n\t// Run digest cycle when a view value changes\n\t$scope.$watch('hour + minute + meridian', function () {\n\t\tNgModelController.$setViewValue({\n\t\t\thour: $scope.hour,\n\t\t\tminute: $scope.minute,\n\t\t\tmeridian: $scope.meridian\n\t\t});\n\t\tNgModelController.$setDirty = tmp;\n\t});\n\n\t// Watch for any configuration updates\n\t$scope.$watch('config', () => {\n\t\tconfig = Object.assign(config, $scope.config);\n\t});\n\n}\n\nexport default timepickerComponent;","'use strict';\n\nimport angular from 'angular';\nimport timepickerComponent from './timepicker';\n\nlet dependencies = [];\n\nexport default angular.module('gridle.timepicker', dependencies)\n\t\t.directive('timepicker', timepickerComponent)\n\t\t.name;","'use strict';\n\nimport angular from 'angular';\nimport moment from 'moment';\nimport { isString } from 'lodash';\n\n/**\n * @memberOf module:\"gridle.datetimepicker\"\n * @kind function\n * @name datetimepicker\n *\n * @description\n * The datetimepicker component renders a custom datetimepicker. It uses the NgModelController,\n * to use the parent ng-model variable and to enable form validations if used within a form.\n *\n * @param {Object} ngModel The ng-model value attached to the element.\n * @param {Object} datetimePickerConfig The datepicker configuration\n * @param {boolean} [datetimePickerConfig.isUtc=true] Whether the dateTime provided is in UTC or not\n * @param {Date|string|moment} [datetimePickerConfig.max=null] The maximum dateTime the datepicker should allow\n * @param {Date|string|moment} [datetimePickerConfig.min=null] The minimum dateTime the datepicker should allow\n * @param {boolean} [datetimePickerConfig.strict=true] Whether a strict parsing should be done or not\n */\n\nfunction datetimepickerComponent() {\n\n\t/**\n\t * The directives definition\n\t */\n\treturn {\n\t\trequire: 'ngModel',\n\t\trestrict: 'AE',\n\t\tscope: {\n\t\t\tconfig: '<?datetimePickerConfig',\n\t\t\tngModel: '='\n\t\t},\n\t\ttemplate: `\n\t\t\t<div\n\t\t\t\tclass=\"date\"\n\t\t\t\tdatepicker=\"\"\n\t\t\t\tdatepicker-config=\"datepickerConfig\"\n\t\t\t\tname=\"date\"\n\t\t\t\tng-model=\"date\">\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"time\"\n\t\t\t\ttimepicker=\"\"\n\t\t\t\ttimepicker-config=\"timepickerConfig\"\n\t\t\t\tname=\"time\"\n\t\t\t\tng-model=\"time\">\n\t\t\t</div>\n\t\t`,\n\t\tlink: linkFn\n\t};\n}\n\n/**\n * The date-picker components link function\n * @function linkFn\n * @name datetimepickerComponent#link\n * @kind link\n */\nfunction linkFn($scope, element, attrs, NgModelController) {\n\n\t/**\n\t * The date format\n\t * @type {string}\n\t */\n\tconst dateFormat = 'Y-MM-DD';\n\n\t/**\n\t * The time format\n\t * @type {string}\n\t */\n\tconst timeFormat = 'HH:mm:00';\n\n\t/**\n\t * The datetime format\n\t * @type {string}\n\t */\n\tconst datetimeFormat = 'Y-MM-DD HH:mm:ss';\n\n\t/**\n\t * The datepicker configuration object\n\t * @property {boolean} [isUtc=false] Whether the dateTime provided is in UTC or not\n\t * @property {Date|string|moment} [max=null] The maximum date the datepicker should allow\n\t * @property {Date|string|moment} [min=null] The minimum date the datepicker should allow\n\t * @property {boolean} [strict=true] Whether a strict parsing should be done or not\n\t * @type {Object}\n\t */\n\tlet config = {\n\t\tisUtc: false,\n\t\tmax: null,\n\t\tmin: null,\n\t\tstrict: true\n\t};\n\n\t/**\n\t * Datepicker component config\n\t * @property {Date|string|moment} [max=null] The maximum date the datepicker should allow\n\t * @property {Date|string|moment} [min=null] The minimum date the datepicker should allow\n\t * @property {boolean} [strict=true] Whether a strict parsing should be done or not\n\t * @property {boolean} [validate=false] Whether to perform validation on the value or not\n\t * @type {Object}\n\t */\n\t$scope.datepickerConfig = {\n\t\tstrict: true,\n\t\tvalidate: false\n\t};\n\n\t/**\n\t * Timepicker component config\n\t * @property {boolean} [validate=false] Whether to perform validation on the value or not\n\t * @type {Object}\n\t */\n\t$scope.timepickerConfig = {\n\t\tvalidate: false\n\t};\n\n\t/**\n\t * The date value of the datetimepicker in Y-MM-DD format\n\t * @type {string}\n\t */\n\t$scope.date = null;\n\n\t/**\n\t * The time value of the datetimepicker in 24 hr HH:mm:00 format\n\t * @type {string}\n\t */\n\t$scope.time = null;\n\n\n\t/**\n\t * Stores the reference to the $setDirty method of the NgModelController.\n\t * @type {NgModel.$setDirty}\n\t */\n\tlet tmp = NgModelController.$setDirty;\n\n\t// Temporarily set the $setDirty function to noop, to make sure form-validations work properly\n\tNgModelController.$setDirty = angular.noop;\n\n\t/**\n\t * To set $touched add a focus listener on the element and all its children\n\t * @function addFocus\n\t * @param {DOM} element\n\t */\n\tfunction addFocus(element) {\n\t\telement = angular.element(element);\n\t\tlet children = element.children();\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\taddFocus(children[i]);\n\t\t}\n\t\telement.on('focus', setTouched);\n\t}\n\n\taddFocus(element);\n\n\t/**\n\t * Set the ngModel $touched value\n\t * @function setTouched\n\t */\n\tfunction setTouched() {\n\t\tNgModelController.$setTouched();\n\t}\n\n\t/**\n\t * Convert a system local dateTime to UTC dateTime\n\t * @function convertLocalToUtc\n\t * @param {Date|string|moment} [dateTime=null]\n\t * @returns {moment}\n\t */\n\tfunction convertLocalToUtc(dateTime = null) {\n\t\tif (dateTime === null) {\n\t\t\tdateTime = moment();\n\t\t} else if (isString(dateTime)) {\n\t\t\tdateTime = moment(dateTime, datetimeFormat, true);\n\t\t} else {\n\t\t\tdateTime = moment(dateTime);\n\t\t}\n\t\treturn dateTime.utc();\n\t}\n\n\t/**\n\t * Convert a UTC dateTime to UTC dateTime\n\t * @function convertUtcToLocal\n\t * @param {Date|string|moment} dateTime\n\t * @returns {moment}\n\t */\n\tfunction convertUtcToLocal(dateTime = null) {\n\t\tlet params = [];\n\t\tif (dateTime === null) {\n\t\t\tparams = [];\n\t\t} else if (isString(dateTime)) {\n\t\t\tparams = [dateTime, datetimeFormat, config.strict];\n\t\t} else {\n\t\t\tparams = [dateTime];\n\t\t}\n\t\treturn\tmoment.utc(...params).local();\n\t}\n\n\t/**\n\t * Returns the maximum date limit the datepicker can handle\n\t * @function getMaximumLimit\n\t * @returns {moment}\n\t */\n\tfunction getMaximumLimit() {\n\t\tif (!config.max || !moment(config.max).isValid() || !moment(config.max, datetimeFormat, config.strict).isValid()) {\n\t\t\tlet dateTime = config.isUtc ? convertLocalToUtc() : moment();\n\t\t\treturn dateTime.endOf('y').add(200, 'y');\n\t\t}\n\t\tif (config.isUtc) {\n\t\t\treturn convertLocalToUtc(config.max);\n\t\t}\n\t\treturn isString(config.max) ? moment(config.max, datetimeFormat, true) : moment(config.max);\n\t}\n\n\t/**\n\t * Returns the minimum date limit the datepicker can handle\n\t * @function getMinimumLimit\n\t * @returns {moment}\n\t */\n\tfunction getMinimumLimit() {\n\t\tif (!config.min || !moment(config.min).isValid() || !moment(config.min, datetimeFormat, config.strict).isValid()) {\n\t\t\tlet dateTime = config.isUtc ? convertLocalToUtc() : moment();\n\t\t\treturn dateTime.startOf('y').subtract(200, 'y');\n\t\t}\n\t\tif (config.isUtc) {\n\t\t\treturn convertLocalToUtc(config.min);\n\t\t}\n\t\treturn isString(config.min) ? moment(config.min, datetimeFormat, true) : moment(config.min);\n\t}\n\n\t/*\n\t * Add validators to the NgModelController\n\t */\n\tangular.extend(NgModelController.$validators, {\n\t\trequired: isDateTimeProvided,\n\t\tinValidDateTime: isValidDateTime\n\t});\n\n\t/**\n\t * NgModelController validator to check if a valid date has been provided/entered\n\t * @function isValidDateTime\n\t * @param {string} modelValue\n\t * @param {object} viewValue\n\t * @returns {boolean}\n\t */\n\tfunction isValidDateTime(modelValue, viewValue) {\n\t\t// If none of the values are present then donot validate\n\t\tif (!modelValue && !viewValue.date && !viewValue.time) {\n\t\t\treturn true;\n\t\t}\n\t\tlet dateTime = modelValue || (viewValue.date + ' ' + viewValue.time);\n\t\tdateTime = config.isUtc ? convertLocalToUtc(dateTime) : moment(dateTime, datetimeFormat, true);\n\t\treturn dateTime.isValid()\n\t\t\t\t&& dateTime.isSameOrAfter(getMinimumLimit())\n\t\t\t\t&& dateTime.isSameOrBefore(getMaximumLimit());\n\t}\n\n\t/**\n\t * NgModelController validator to check if a date has been provided/entered\n\t * @function isDateTimeProvided\n\t * @param {string} modelValue\n\t * @param {Object} viewValue\n\t * @returns {boolean}\n\t */\n\tfunction isDateTimeProvided(modelValue, viewValue) {\n\t\t// Check if required attrs is present\n\t\t// Return true if either of the values is present\n\t\treturn attrs.required ? !!(modelValue || viewValue.date || viewValue.time) : true;\n\t}\n\n\n\t// Format backend value to the values suitable for view\n\tNgModelController.$formatters.push((modelValue) => {\n\t\tlet dateTime, date = null, time = null;\n\t\tif (modelValue) {\n\t\t\tdateTime = config.isUtc ? convertUtcToLocal(modelValue) : moment(modelValue, datetimeFormat, true);\n\t\t\tdate = dateTime.format(dateFormat);\n\t\t\ttime = dateTime.format(timeFormat);\n\t\t}\n\t\treturn {date, time};\n\t});\n\n\t// Update $scope values from viewValues passed by the formatter\n\tNgModelController.$render = () => {\n\t\tif (NgModelController.$viewValue) {\n\t\t\t$scope.date = NgModelController.$viewValue.date;\n\t\t\t$scope.time = NgModelController.$viewValue.time;\n\t\t}\n\t};\n\n\t// Format view value to the value suitable for backend\n\tNgModelController.$parsers.push((viewValue) => {\n\t\tif (!viewValue.date || !viewValue.time) {\n\t\t\treturn null;\n\t\t}\n\t\tlet dateTime = viewValue.date + ' ' + viewValue.time;\n\t\tdateTime = config.isUtc ? convertLocalToUtc(dateTime) : moment(dateTime, datetimeFormat, true);\n\t\treturn dateTime.format('Y-MM-DD HH:mm:00');\n\t});\n\n\t// Run digest cycle when a view value changes\n\t$scope.$watch('date + time', () => {\n\t\tNgModelController.$setViewValue({\n\t\t\tdate: $scope.date,\n\t\t\ttime: $scope.time\n\t\t});\n\t\tNgModelController.$setDirty = tmp;\n\t});\n\n\t// Watch for any configuration updates\n\t$scope.$watch('config', () => {\n\t\tconfig = Object.assign(config, $scope.config);\n\t\tlet max = null, min = null;\n\t\tif (config.max) {\n\t\t\tmax = config.isUtc ? convertUtcToLocal(config.max).format(dateFormat) : moment(config.max);\n\t\t}\n\t\tif (config.min) {\n\t\t\tmin = config.isUtc ? convertUtcToLocal(config.min).format(dateFormat) : moment(config.min);\n\t\t}\n\t\t$scope.datepickerConfig = Object.assign({}, $scope.datepickerConfig, config, {min, max});\n\t\t$scope.timepickerConfig = Object.assign({}, $scope.timepickerConfig, config);\n\t});\n\n\n\t/**\n\t * Intialize the datetime picker component\n\t * @function initialize\n\t */\n\tfunction initialize() {\n\t\tconfig = Object.assign({}, config, $scope.config);\n\t}\n\n\tinitialize();\n\n}\n\nexport default datetimepickerComponent;","'use strict';\n\nimport angular from 'angular';\nimport datepicker from './../datepicker/index.js';\nimport timepicker from './../timepicker/index.js';\n\nimport datetimepickerComponent from './datetimepicker.js';\n\n\nlet dependencies = [datepicker, timepicker];\n\nexport default angular.module('gridle.datetimepicker', dependencies)\n\t\t.directive('datetimepicker', datetimepickerComponent)\n\t\t.name;"],"names":["linkFn","$scope","element","attrs","NgModelController","config","max","min","strict","validate","years","tmp","$setDirty","setTouched","$setTouched","getMaximumLimit","moment","isValid","isString","endOf","add","getMinimumLimit","startOf","subtract","angular","noop","addFocus","children","i","length","on","extend","$validators","invalidDate","modelValue","viewValue","year","month","day","date","isSameOrAfter","isSameOrBefore","required","$formatters","push","passedDate","format","$parsers","$render","$viewValue","$watch","$setViewValue","Object","assign","minYear","maxYear","splice","populateYearList","module","directive","require","restrict","scope","ngModel","template","link","name","meridian","hour","minute","time","datetimeFormat","isUtc","datepickerConfig","timepickerConfig","convertLocalToUtc","dateTime","utc","convertUtcToLocal","params","local","inValidDateTime","dependencies","datepicker","timepicker"],"mappings":"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"}