!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("angular"),require("moment"),require("lodash")):"function"==typeof define&&define.amd?define(["angular","moment","lodash"],o):t.datepicker=o(t.angular,t.moment,t.lodash)}(this,function(t,o,n){"use strict";function e(e,i,a,l){let r={max:null,min:null,strict:!0,validate:!0};e.years=[];let p=l.$setDirty;function u(){l.$setTouched()}function d(){return r.max&&o(r.max).isValid()&&o(r.max,"Y-MM-DD",r.strict).isValid()?n.isString(r.max)?o(r.max,"Y-MM-DD",!0):o(r.max):o().endOf("y").add(200,"y")}function s(){return r.min&&o(r.min).isValid()&&o(r.min,"Y-MM-DD",r.strict).isValid()?n.isString(r.min)?o(r.min,"Y-MM-DD",!0):o(r.min):o().startOf("y").subtract(200,"y")}l.$setDirty=t.noop,function o(n){let e=(n=t.element(n)).children();for(let t=0;t<e.length;t++)o(e[t]);n.on("focus",u)}(i),t.extend(l.$validators,{invalidDate:function(t,n){if(!r.validate||!t&&!n.year&&!n.month&&!n.day)return!0;let e=o(t||n.year+"-"+n.month+"-"+n.day,"Y-MM-DD",r.strict);return e.isValid()&&e.isSameOrAfter(s())&&e.isSameOrBefore(d())},required:function(t,o){return!a.required||!!(t||o.year||o.month||o.day)}}),l.$formatters.push(t=>{if(t){let n=o(t,"Y-MM-DD");return{day:n.format("DD"),month:n.format("MM"),year:n.year()}}return{day:"",month:"",year:null}}),l.$parsers.push(t=>!r.validate||t.year&&t.month&&t.day?t.year+"-"+t.month+"-"+t.day:null),l.$render=(()=>{l.$viewValue&&(e.day=l.$viewValue.day,e.month=l.$viewValue.month,e.year=l.$viewValue.year)}),e.$watch("day + month + year",()=>{l.$setViewValue({day:e.day,month:e.month,year:e.year}),l.$setDirty=p}),e.$watch("config",()=>{r=Object.assign(r,e.config),function(){let t,o;t=s().year(),o=d().year(),e.years.splice(0);for(let n=t;n<=o;n++)e.years.push(n)}()})}t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;return t.module("gridle.datepicker",[]).directive("datepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?datepickerConfig"},template:'\n\t\t<div class="datepicker-select" layout="row" layout-align="start center">\n\t\t\t<select class="form-control month" name="month" ng-model="month">\n\t\t\t\t<option disabled="" label="Month" value="">Month</option>\n\t\t\t\t<option value="01">January</option>\n\t\t\t\t<option value="02">February</option>\n\t\t\t\t<option value="03">March</option>\n\t\t\t\t<option value="04">April</option>\n\t\t\t\t<option value="05">May</option>\n\t\t\t\t<option value="06">June</option>\n\t\t\t\t<option value="07">July</option>\n\t\t\t\t<option value="08">August</option>\n\t\t\t\t<option value="09">September</option>\n\t\t\t\t<option value="10">October</option>\n\t\t\t\t<option value="11">November</option>\n\t\t\t\t<option value="12">December</option>\n\t\t\t</select>\n\t\t\t<select class="form-control day" name="day" ng-model="day">\n\t\t\t\t<option disabled="" label="Day" value="">Day</option>\n\t\t\t\t<option value="01">01</option>\n\t\t\t\t<option value="02">02</option>\n\t\t\t\t<option value="03">03</option>\n\t\t\t\t<option value="04">04</option>\n\t\t\t\t<option value="05">05</option>\n\t\t\t\t<option value="06">06</option>\n\t\t\t\t<option value="07">07</option>\n\t\t\t\t<option value="08">08</option>\n\t\t\t\t<option value="09">09</option>\n\t\t\t\t<option value="10">10</option>\n\t\t\t\t<option value="11">11</option>\n\t\t\t\t<option value="12">12</option>\n\t\t\t\t<option value="13">13</option>\n\t\t\t\t<option value="14">14</option>\n\t\t\t\t<option value="15">15</option>\n\t\t\t\t<option value="16">16</option>\n\t\t\t\t<option value="17">17</option>\n\t\t\t\t<option value="18">18</option>\n\t\t\t\t<option value="19">19</option>\n\t\t\t\t<option value="20">20</option>\n\t\t\t\t<option value="21">21</option>\n\t\t\t\t<option value="22">22</option>\n\t\t\t\t<option value="23">23</option>\n\t\t\t\t<option value="24">24</option>\n\t\t\t\t<option value="25">25</option>\n\t\t\t\t<option value="26">26</option>\n\t\t\t\t<option value="27">27</option>\n\t\t\t\t<option value="28">28</option>\n\t\t\t\t<option value="29">29</option>\n\t\t\t\t<option value="30">30</option>\n\t\t\t\t<option value="31">31</option>\n\t\t\t</select>\n\t\t\t<select class="form-control year" ng-options="year as year for year in years" name="year" ng-model="year">\n\t\t\t\t<option disabled="" label="Year" value="">Year</option>\n\t\t\t</select>\n\t\t</div>',link:e}}).name});
//# sourceMappingURL=datepicker.bundle.js.map
