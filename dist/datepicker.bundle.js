!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("angular"),require("moment")):"function"==typeof define&&define.amd?define(["angular","moment"],o):t.datepicker=o(t.angular,t.moment)}(this,function(t,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e="object"==typeof n&&n&&n.Object===Object&&n,i="object"==typeof self&&self&&self.Object===Object&&self,a=(e||i||Function("return this")()).Symbol,r=Object.prototype,l=r.hasOwnProperty,p=r.toString,u=a?a.toStringTag:void 0;var d=function(t){var o=l.call(t,u),n=t[u];try{t[u]=void 0;var e=!0}catch(t){}var i=p.call(t);return e&&(o?t[u]=n:delete t[u]),i},c=Object.prototype.toString;var s=function(t){return c.call(t)},y="[object Null]",v="[object Undefined]",f=a?a.toStringTag:void 0;var m=function(t){return null==t?void 0===t?v:y:f&&f in Object(t)?d(t):s(t)},h=Array.isArray;var b=function(t){return null!=t&&"object"==typeof t},g="[object String]";var D=function(t){return"string"==typeof t||!h(t)&&b(t)&&m(t)==g};function M(n,e,i,a){let r={max:null,min:null,strict:!0,validate:!0};n.years=[];let l=a.$setDirty;function p(){a.$setTouched()}function u(){return r.max&&o(r.max).isValid()&&o(r.max,"Y-MM-DD",r.strict).isValid()?D(r.max)?o(r.max,"Y-MM-DD",!0):o(r.max):o().endOf("y").add(200,"y")}function d(){return r.min&&o(r.min).isValid()&&o(r.min,"Y-MM-DD",r.strict).isValid()?D(r.min)?o(r.min,"Y-MM-DD",!0):o(r.min):o().startOf("y").subtract(200,"y")}a.$setDirty=t.noop,function o(n){let e=(n=t.element(n)).children();for(let t=0;t<e.length;t++)o(e[t]);n.on("focus",p)}(e),t.extend(a.$validators,{invalidDate:function(t,n){if(!r.validate||!t&&!n.year&&!n.month&&!n.day)return!0;let e=o(t||n.year+"-"+n.month+"-"+n.day,"Y-MM-DD",r.strict);return e.isValid()&&e.isSameOrAfter(d())&&e.isSameOrBefore(u())},required:function(t,o){return!i.required||!!(t||o.year||o.month||o.day)}}),a.$formatters.push(t=>{if(t){let n=o(t,"Y-MM-DD");return{day:n.format("DD"),month:n.format("MM"),year:n.year()}}return{day:"",month:"",year:null}}),a.$parsers.push(t=>!r.validate||t.year&&t.month&&t.day?t.year+"-"+t.month+"-"+t.day:null),a.$render=(()=>{a.$viewValue&&(n.day=a.$viewValue.day,n.month=a.$viewValue.month,n.year=a.$viewValue.year)}),n.$watch("day + month + year",()=>{a.$setViewValue({day:n.day,month:n.month,year:n.year}),a.$setDirty=l}),n.$watch("config",()=>{r=Object.assign(r,n.config),function(){let t,o;t=d().year(),o=u().year(),n.years.splice(0);for(let e=t;e<=o;e++)n.years.push(e)}()})}return t.module("gridle.datepicker",[]).directive("datepicker",function(){return{require:"ngModel",restrict:"AE",scope:{ngModel:"=",config:"<?datepickerConfig"},template:'\n\t\t<div class="datepicker-select" layout="row" layout-align="start center">\n\t\t\t<select class="form-control month" name="month" ng-model="month">\n\t\t\t\t<option disabled="" label="Month" value="">Month</option>\n\t\t\t\t<option value="01">January</option>\n\t\t\t\t<option value="02">February</option>\n\t\t\t\t<option value="03">March</option>\n\t\t\t\t<option value="04">April</option>\n\t\t\t\t<option value="05">May</option>\n\t\t\t\t<option value="06">June</option>\n\t\t\t\t<option value="07">July</option>\n\t\t\t\t<option value="08">August</option>\n\t\t\t\t<option value="09">September</option>\n\t\t\t\t<option value="10">October</option>\n\t\t\t\t<option value="11">November</option>\n\t\t\t\t<option value="12">December</option>\n\t\t\t</select>\n\t\t\t<select class="form-control day" name="day" ng-model="day">\n\t\t\t\t<option disabled="" label="Day" value="">Day</option>\n\t\t\t\t<option value="01">01</option>\n\t\t\t\t<option value="02">02</option>\n\t\t\t\t<option value="03">03</option>\n\t\t\t\t<option value="04">04</option>\n\t\t\t\t<option value="05">05</option>\n\t\t\t\t<option value="06">06</option>\n\t\t\t\t<option value="07">07</option>\n\t\t\t\t<option value="08">08</option>\n\t\t\t\t<option value="09">09</option>\n\t\t\t\t<option value="10">10</option>\n\t\t\t\t<option value="11">11</option>\n\t\t\t\t<option value="12">12</option>\n\t\t\t\t<option value="13">13</option>\n\t\t\t\t<option value="14">14</option>\n\t\t\t\t<option value="15">15</option>\n\t\t\t\t<option value="16">16</option>\n\t\t\t\t<option value="17">17</option>\n\t\t\t\t<option value="18">18</option>\n\t\t\t\t<option value="19">19</option>\n\t\t\t\t<option value="20">20</option>\n\t\t\t\t<option value="21">21</option>\n\t\t\t\t<option value="22">22</option>\n\t\t\t\t<option value="23">23</option>\n\t\t\t\t<option value="24">24</option>\n\t\t\t\t<option value="25">25</option>\n\t\t\t\t<option value="26">26</option>\n\t\t\t\t<option value="27">27</option>\n\t\t\t\t<option value="28">28</option>\n\t\t\t\t<option value="29">29</option>\n\t\t\t\t<option value="30">30</option>\n\t\t\t\t<option value="31">31</option>\n\t\t\t</select>\n\t\t\t<select class="form-control year" ng-options="year as year for year in years" name="year" ng-model="year">\n\t\t\t\t<option disabled="" label="Year" value="">Year</option>\n\t\t\t</select>\n\t\t</div>',link:M}}).name});
//# sourceMappingURL=datepicker.bundle.js.map
